#!/bin/bash

for i in {1..20}
do
 shuf data.txt > temp.txt
 shuf temp.txt > data.txt
done

rm temp.txt
mv data.txt train.txt
nl=$(wc -l < "train.txt")

train_ratio=0.7
train_size_f=$(echo "$nl * $train_ratio" | bc)
train_size=${train_size_f%.*}

valid_ratio=0.1
valid_size_f=$(echo "$nl * $valid_ratio" | bc)
valid_size=${valid_size_f%.*}

test_ratio=0.2
test_size=$((nl - valid_size - train_size))

head -n "$valid_size" train.txt > valid.txt
sed -i '1,'"$valid_size"'d' train.txt

head -n "$test_size" train.txt > test.txt
sed -i '1,'"$test_size"'d' train.txt

for i in {1..20}
do
 shuf data_numeric.txt > temp.txt
 shuf temp.txt > data_numeric.txt
done

rm temp.txt
mv data_numeric.txt train_att.txt
nl=$(wc -l < "train_att.txt")

train_size_f=$(echo "$nl * $train_ratio" | bc)
train_size=${train_size_f%.*}

valid_size_f=$(echo "$nl * $valid_ratio" | bc)
valid_size=${valid_size_f%.*}

test_size=$((nl - valid_size - train_size))

head -n "$valid_size" train_att.txt > valid_att.txt
sed -i '1,'"$valid_size"'d' train_att.txt

head -n "$test_size" train_att.txt > test_att.txt
sed -i '1,'"$test_size"'d' train_att.txt

